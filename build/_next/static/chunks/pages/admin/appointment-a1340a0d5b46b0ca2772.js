_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[38],{Jn8z:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/appointment",function(){return n("YCee")}])},YCee:function(e,t,n){"use strict";n.r(t);var a=n("KQm4"),r=n("rePB"),l=n("q1tI"),o=n.n(l),i=n("wd/R"),s=n.n(i),u=n("FGyW"),d=(n("jDDT"),n("gWdR")),c=n("TsPW"),p=n("L4s6"),m=(n("gDGi"),n("/MKj")),f=n("Tgqd"),b=n("iqOp"),g=n("glTy"),y=n("YGfb"),h=n("bAGh"),v=n("TKOK"),x=n("5Ves"),N=n("nOHt"),k=n("YFqc"),w=n.n(k),j=n("ma3e"),O=o.a.createElement;function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(){var e=Object(N.useRouter)(),t=Object(l.useState)(""),n=(t[0],t[1]),r=Object(l.useState)(""),i=r[0],k=r[1],S=Object(l.useState)(""),_=S[0],D=S[1],P=Object(l.useState)({search:"",filter:"all",page:{history:"",current:1},order:"",field:"",limit:10,skip:0,status:""}),A=P[0],Y=P[1],E=Object(l.useState)([]),T=E[0],z=E[1],G=Object(l.useState)({}),M=G[0],q=G[1],F=Object(l.useState)(0),J=F[0],K=F[1],W=Object(l.useState)(0),R=W[0],V=W[1],H=Object(l.useState)(0),Q=H[0],U=H[1],X=Object(l.useState)(!1),B=X[0],I=X[1],L=C({},Object(m.e)((function(e){return{palettes:e.palettes}}),m.c).palettes).background,Z=function(t){Object(c.a)("/admin/appointments/list","post",t).then((function(t){if(t&&t.data&&"00"===String(t.data.status))return e.push("/admin/login");t&&t.data&&0===+t.data.status?t.data.errors&&t.data.errors.length>0&&Array.isArray(t.data.errors)?t.data.errors.map((function(e){return u.b.error(e.msg)})):z([]):t&&t.data&&1===+t.data.status&&(z(t.data.response&&t.data.response.result&&t.data.response.result.length>0?t.data.response.result:[]),V(t.data.response&&t.data.response.length?t.data.response.length:0),K(Math.ceil(Number(t.data.response.fullcount)/10)))})).catch((function(t){return console.log("err",t),e.push("/admin/login")}))},$=function(e,t){e.preventDefault(),String(t)===String(!1)&&k(""),I(t)},ee=function(e,t,n){e.preventDefault(),Y(C(C({},A),{},{order:Number(n),field:t}))};return Object(l.useEffect)((function(){Z(A)}),[A]),O(o.a.Fragment,null,O(u.a,{position:"top-right",autoClose:2500,closeOnClick:!0}),O("div",{className:"flex flex-row mb-4"},O("div",{className:"w-full"},O("nav",{className:"w-full flex"},O("ol",{className:"list-none flex flex-row items-center justify-start"},!1,[{title:"Home",url:"/admin/dashboard",last:!1},{title:"Appointment",url:"/admin/appointment",last:!0}].map((function(e,t){return O("li",{className:"flex items-center",key:t},O(w.a,{href:e.url},O("a",{className:"mr-2"},e.title)),!e.last&&O(f.d,{className:"h-3 w-3 mr-2 stroke-current"}),!e.last&&!1,!e.last&&!1)})))))),O(p.a,{title:"",subtitle:"Appointment"}),O(d.a,{title:""},O("div",{className:"w-full flex flex-row items-center justify-center"},O("div",{className:"relative w-full max-w-lg mb-2"},O("input",{type:"search",name:"search",value:_,onChange:function(e){return t=e.target.value,D(t),void Y(C(C({},A),{},{search:t}));var t},placeholder:"Search...",className:"w-full appearance-none h-10 pl-10 pr-5 rounded-full text-sm bg-grey-100 focus:outline-none"}),O("button",{type:"submit",className:"absolute top-0 mt-3 left-0 ml-4"},O(f.Q,{className:"stroke-current h-4 w-4"})))),O("table",{className:"table border"},O("thead",null,O("tr",null,O("th",null,"S.no"),O("th",null,O("span",{style:{display:"inline-flex"}},"Date","appointment_date"===A.field&&1===+A.order?O(j.j,{style:{margin:"0 5px",cursor:"pointer"},onClick:function(e){return ee(e,"appointment_date",-1)}}):O(j.i,{style:{margin:"0 5px",cursor:"pointer"},onClick:function(e){return ee(e,"appointment_date",1)}}))),O("th",null,"    ",O("span",{style:{display:"inline-flex"}},"Patient Name","name"===A.field&&1===+A.order?O(j.j,{style:{margin:"0 5px",cursor:"pointer"},onClick:function(e){return ee(e,"name",-1)}}):O(j.i,{style:{margin:"0 5px",cursor:"pointer"},onClick:function(e){return ee(e,"name",1)}}))),O("th",null,"   ",O("span",{style:{display:"inline-flex"}},"Email","email"===A.field&&1===+A.order?O(j.j,{style:{margin:"0 5px",cursor:"pointer"},onClick:function(e){return ee(e,"email",-1)}}):O(j.i,{style:{margin:"0 5px",cursor:"pointer"},onClick:function(e){return ee(e,"email",1)}}))),O("th",null,"   ",O("span",{style:{display:"inline-flex"}},"Gender","gender"===A.field&&1===+A.order?O(j.j,{style:{margin:"0 5px",cursor:"pointer"},onClick:function(e){return ee(e,"gender",-1)}}):O(j.i,{style:{margin:"0 5px",cursor:"pointer"},onClick:function(e){return ee(e,"gender",1)}}))),O("th",null,"   ",O("span",{style:{display:"inline-flex"}},"Age","age"===A.field&&1===+A.order?O(j.j,{style:{margin:"0 5px",cursor:"pointer"},onClick:function(e){return ee(e,"age",-1)}}):O(j.i,{style:{margin:"0 5px",cursor:"pointer"},onClick:function(e){return ee(e,"age",1)}}))),O("th",null,"   ",O("span",{style:{display:"inline-flex"}},"Department","department_name"===A.field&&1===+A.order?O(j.j,{style:{margin:"0 5px",cursor:"pointer"},onClick:function(e){return ee(e,"department_name",-1)}}):O(j.i,{style:{margin:"0 5px",cursor:"pointer"},onClick:function(e){return ee(e,"department_name",1)}}))),O("th",null,"Actions"))),O("tbody",null,T&&T.length>0?T.map((function(t,a){return O("tr",{key:a},O("td",null,Number(A&&A.skip?A.skip:0)+a+1),O("td",null,t.appointment_date),O("td",null,t.name),O("td",null,t.email),O("td",null,t.gender?String(t.gender).toUpperCase():""),O("td",null,t.age),O("td",null,t.department_name),O("td",null,O("button",{type:"button",title:"View",id:"view".concat(a),onClick:function(a){return function(t,a){t.preventDefault(),a&&a.length>0&&String(a)!==String(void 0)&&(n(a),Object(c.a)("/admin/appointments/edit","post",{_id:a}).then((function(t){if(t&&t.data&&"00"===String(t.data.status))return e.push("/admin/login");t&&t.data&&0===+t.data.status?t.data.errors&&t.data.errors.length>0&&Array.isArray(t.data.errors)?t.data.errors.map((function(e){return u.b.error(e.msg)})):q({}):t&&t.data&&1===+t.data.status&&(q(t.data.response),I(!0))})).catch((function(t){return console.log("err",t),e.push("/admin/login")})))}(a,t._id)}},O(f.v,{className:"stroke-current"}))," "," ",O("button",{type:"button",title:"Delete",id:"delete".concat(a),onClick:function(e){return function(e,t){e.preventDefault(),t&&t.length>0&&String(t)!==String(void 0)&&k(t)}(e,t._id)}},O(f.ab,{className:"stroke-current"}))," "," ",O(b.a,{isOpen:String(t._id)===String(i),placement:"left",target:"delete".concat(a)},O(g.a,null,"Confirmation"),O(y.a,null,O("h6",null,"Are You Sure, You Want To Delete ?"),O("button",{type:"button",title:"Yes",className:"btn btn-default btn-outlined bg-transparent text-red-500 hover:text-red-700 border-red-500 hover:border-red-700 btn-rounded",color:"success",onClick:function(t){!function(t){t.preventDefault(),i&&i.length>0&&String(i)!==String(void 0)&&Object(c.a)("/admin/appointments/soft_delete","post",{_id:i}).then((function(e){if(e&&e.data&&0===+e.data.status){if(!(e.data.errors&&e.data.errors.length>0&&Array.isArray(e.data.errors)))return u.b.error(e.data.response);e.data.errors.map((function(e){return u.b.error(e.msg)}))}else e&&e.data&&1===+e.data.status&&(u.b.success(e.data.response),Z(A),k(""))})).catch((function(t){return console.log("err",t),e.push("/admin/login")}))}(t)}},"Yes ")," "," ",O("button",{type:"button",title:"No",className:"btn btn-default btn-outlined bg-transparent text-blue-500 hover:text-blue-700 border-blue-500 hover:border-blue-700 btn-rounded",color:"secondary",onClick:function(e){e.preventDefault(),k("")}},"No ")))))})):O("tr",null,O("td",{style:{textAlign:"center"},colSpan:11},O("h5",null,"No record available"))))),O("div",{className:"flex flex-row items-center justify-between my-4"},O("div",{style:{wordSpacing:"30px"}},O(h.a,{"aria-label":"Page navigation example",className:"pagination-primary",style:{justifyContent:"flex-end",display:"flex"}},O(v.a,{disabled:!0,style:{padding:"15px 20px",border:"1px solid #ddd",fontSize:"14px",color:"#0006b5"}},O(x.a,{first:!0})),O(v.a,{disabled:!0,style:{padding:"15px 20px",border:"1px solid #ddd",fontSize:"14px",color:"#0006b5"}},O(x.a,{previous:!0})),Object(a.a)(Array(J)).map((function(e,t){return O(v.a,{active:t===Q,key:t,style:{padding:"15px 20px",border:"1px solid #ddd",fontSize:"14px",color:"#0006b5"}},O(x.a,{onClick:function(e){return function(e,t){e.preventDefault(),U(t);var n=A.limit;(t=Number(t)+1)&&Y(C(C({},A),{},{skip:t*n-n,"page.current":t,"page.history":t}))}(e,t)},style:t===Q?{color:"#4caf50"}:{color:"#0006b5"}},t+1))})),O(v.a,{disabled:!0,style:{padding:"15px 20px",border:"1px solid #ddd",fontSize:"14px",color:"#0006b5"}},O(x.a,{next:!0})),O(v.a,{disabled:!0,style:{padding:"15px 20px",border:"1px solid #ddd",fontSize:"14px",color:"#0006b5"}},O(x.a,{last:!0})))),O("span",null,"Page"," ",O("b",null,A&&A.skip?A.skip+1:1," of ",R)," "),O("select",{className:"form-select text-sm bg-white dark:bg-grey-800 dark:border-grey-800 outline-none shadow-none focus:shadow-none",value:A.limit,onChange:function(e){var t;t=Number(e.target.value),Y(C(C({},A),{},{limit:t}))}},[10,25,50,100].map((function(e){return O("option",{key:e,value:e}," Show ",e," ")})))),B?O(o.a.Fragment,null,O("div",{className:"modal-backdrop fade-in"}),O("div",{className:"modal show ".concat("dark"===L?"dark-mode":""),"data-background":L},O("div",{className:"relative min-w-sm w-auto mx-auto lg:max-w-5xl"},O("div",{className:"modal-content"},O("div",{className:"modal-header"},O("h3",{className:"text-xl font-semibold"},"View Patient"),O("button",{className:"modal-close btn btn-transparent",onClick:function(e){return $(e,!1)}},O(f.fb,{size:18,className:"stroke-current"}))),O("div",{className:"relative p-4 flex-auto",style:{width:"600px"}},O("div",{className:"form-element"},O("div",{className:"form-label"},"Name :",O("input",{className:"form-control",style:{float:"right"},disabled:!0,value:M&&M.name?M.name:""})),O("div",{className:"form-label"},"Email :",O("input",{className:"form-control",style:{float:"right"},disabled:!0,value:M&&M.email?M.email:""})),O("div",{className:"form-label"},"Gender :",O("input",{className:"form-control",style:{float:"right"},disabled:!0,value:M&&M.gender?String(M.gender).toUpperCase():""})),O("div",{className:"form-label"},"Age :",O("input",{className:"form-control",style:{float:"right"},disabled:!0,value:M&&M.age?M.age:""})),O("div",{className:"form-label"},"SMobile :",O("input",{className:"form-control",style:{float:"right"},disabled:!0,value:M&&M.phone?M.phone:""})),O("div",{className:"form-label"},"Department :",O("input",{className:"form-control",disabled:!0,style:{float:"right"},value:M&&+M.department_name?M.department_name:""})),O("div",{className:"form-label"},"Date :",O("input",{className:"form-control",disabled:!0,style:{float:"right"},value:M&&+M.appointment_date?s()(new Date(M.appointment_date)).format("DD-MM-YYYY"):""})),O("div",{className:"form-label"},"Time :",O("input",{className:"form-control",disabled:!0,style:{float:"right"},value:M&&+M.time?M.time:""})))),O("div",{className:"modal-footer space-x-2"},O("button",{className:"btn btn-default btn-rounded bg-blue-500 hover:bg-blue-600 text-white",type:"button",onClick:function(e){return $(e,!1)}},"Close ")))))):null))}}},[["Jn8z",0,1,7,9,2,3,4,5,8,10,12]]]);