_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{"0jJC":function(e,t,a){"use strict";a.r(t);var r=a("rePB"),i=a("q1tI"),n=a.n(i),l=a("FGyW"),o=(a("jDDT"),a("gWdR")),s=a("TsPW"),u=a("L4s6"),c=a("20a2"),p=a("/MKj"),d=(a("vDqi"),a("3/DG"),n.a.createElement);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}t.default=Object(c.withRouter)((function(){var e=Object(c.useRouter)(),t=Object(i.useState)(""),a=(t[0],t[1],Object(i.useState)({})),m=(a[0],a[1],Object(i.useState)(!1)),b=(m[0],m[1],Object(i.useState)("")),v=b[0],y=b[1],g=Object(i.useState)(!1),j=g[0],O=g[1],N=Object(i.useState)(""),h=N[0],S=N[1],w=Object(i.useState)(!1),q=w[0],C=w[1],_=Object(i.useState)(""),P=_[0],E=_[1],x=Object(i.useState)(!1),D=x[0],J=x[1],k=Object(i.useState)(""),A=k[0],Q=k[1],T=Object(i.useState)(!1),R=T[0],F=T[1],G=Object(i.useState)(""),W=G[0],X=G[1],z=Object(i.useState)(!1),B=z[0],I=z[1],K=Object(i.useState)(""),L=K[0],M=K[1],H=Object(i.useState)(!1),U=(H[0],H[1]),V=Object(i.useState)(""),Y=V[0],Z=V[1],$=Object(i.useState)(!1),ee=$[0],te=$[1],ae=Object(i.useState)(""),re=ae[0],ie=ae[1],ne=Object(i.useState)(""),le=(ne[0],ne[1],Object(i.useState)(!1)),oe=le[0],se=(le[1],Object(i.useState)("")),ue=(se[0],se[1],Object(i.useState)(!1)),ce=(ue[0],ue[1],Object(i.useState)("")),pe=ce[0],de=ce[1],fe=Object(i.useState)(!1),me=(fe[0],fe[1],function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},Object(p.d)((function(e){return{palettes:e.palettes}}),p.b).palettes).background,function(e,t){String(t)===String("applyname")&&(e.target.value?O(!1):O(!0),y(e.target.value)),String(t)===String("applyemail")&&(e.target.value?C(!1):C(!0),S(e.target.value)),String(t)===String("applyphone")&&(e.target.value?J(!1):J(!0),E(e.target.value)),String(t)===String("applyqualification")&&(e.target.value?F(!1):F(!0),Q(e.target.value)),String(t)===String("applycovernotes")&&(e.target.value?te(!1):te(!0),Z(e.target.value))}),be=e.query.job_id;return Object(i.useEffect)((function(){var e={};e.job_id=be,Object(s.a)("/site/jobs/getjobdetails","post",e).then((function(e){e&&e.data&&0===+e.data.status?e.data.errors&&e.data.errors.length>0&&Array.isArray(e.data.errors)?e.data.errors.map((function(e){return l.b.error(e.msg)})):settable_arr([]):e&&e.data&&1===+e.data.status&&(X(e.data.response.name),M(e.data.response.category_id),ie(e.data.response._id))})).catch((function(e){console.log("err",e)}))}),[]),d(n.a.Fragment,null,d(l.a,{position:"top-right",autoClose:2500,closeOnClick:!0}),d(u.a,{title:"",subtitle:"Apply Job"}),d(o.a,{title:""},d("div",null,d("form",null,d("div",{className:"flex flex-col lg:flex-row lg:flex-wrap lg:w-1/2"},d("div",{className:"w-full "},d("div",{className:"form-element"},d("div",{className:"form-label"},"Category"),d("input",{type:"text",className:"form-input form-input-".concat(B?"invalid":"valid"),placeholder:"Name",value:W,onChange:function(e){return me(e,"applycategoryname")},disabled:!0}),B?d("div",{className:"form-error"}," Category is required"):null)),d("div",{className:"w-full "},d("div",{className:"form-element"},d("div",{className:"form-label"},"Name"),d("input",{type:"text",className:"form-input form-input-".concat(j?"invalid":"valid"),placeholder:"Name",value:v,onChange:function(e){return me(e,"applyname")}}),j?d("div",{className:"form-error"}," Name is required"):null)),d("div",{className:"w-full "},d("div",{className:"form-element"},d("div",{className:"form-label"},"Email"),d("input",{type:"email",className:"form-input form-input-".concat(q?"invalid":"valid"),placeholder:"Email",value:h,onChange:function(e){return me(e,"applyemail")}}),q?d("div",{className:"form-error"}," Email is required"):null)),d("div",{className:"w-full "},d("div",{className:"form-element"},d("div",{className:"form-label"},"Qualification"),d("input",{type:"text",className:"form-input form-input-".concat(R?"invalid":"valid"),placeholder:"Qualification",value:A,onChange:function(e){return me(e,"applyqualification")}}),R?d("div",{className:"form-error"}," Qualification is required"):null)),d("div",{className:"w-full "},d("div",{className:"form-element"},d("div",{className:"form-label"},"Phone"),d("input",{type:"number",className:"form-input form-input-".concat(D?"invalid":"valid"),placeholder:"Phone Number",value:P,onChange:function(e){return me(e,"applyphone")}}),D?d("div",{className:"form-error"},"Phone is required"):null)),d("div",{className:"w-full "},d("div",{className:"form-element"},d("div",{className:"form-label"},"Cover Notes"),d("input",{type:"text",className:"form-input form-input-".concat(ee?"invalid":"valid"),placeholder:"Cover notes",value:Y,onChange:function(e){return me(e,"applycovernotes")}}),ee?d("div",{className:"form-error"},"Cover notes is required"):null)),d("div",{className:"w-full "},d("div",{className:"form-element"},d("div",{className:"form-label"},"Resume upload"),d("input",{type:"file",onChange:function(e){de(e.target.files[0])}})))),d("button",{className:"btn btn-default bg-blue-500 hover:bg-blue-600 text-white btn-rounded",onClick:function(e){return function(e){if(e.preventDefault(),!W)return I(!0),l.b.error("Category is required");if(B)return l.b.error("Category is required");if(!v)return O(!0),l.b.error("Name is required");if(j)return l.b.error("Name is required");if(!h)return C(!0),l.b.error("Email is required");if(q)return l.b.error("Email is required");if(!A)return F(!0),l.b.error("Qualification is required");if(R)return l.b.error("Qualification is required");if(!P)return J(!0),l.b.error("Phone is required");if(D)return l.b.error("Phone is required");if(!Y)return te(!0),l.b.error("Cover notes is required");if(ee)return l.b.error("Cover notes is required");var t={applyname:v,applyemail:h,applyphone:P,applyqualification:A,applycategoryname:W,applycategoryid:L,applycovernotes:Y,applyjobid:re,applyfile:pe},a={};a.jobs_id=t.applyjobid,a.category_id=t.applycategoryid,a.category_name=t.applycategoryname,a.name=t.applyname,a.email=t.applyemail,a.phone=t.applyphone,a.qualification=t.applyqualification,a.message=t.applycovernotes;var r=new FormData;r.append("data",JSON.stringify(a)),r.append("file",pe),Object(s.a)("/site/apply/jobs","post",r).then((function(e){e&&e.data&&0===+e.data.status?e.data.errors&&e.data.errors.length>0&&Array.isArray(e.data.errors)?e.data.errors.map((function(e){return l.b.error(e.msg)})):l.b.error(e.data.response):(e&&e.data&&1===+e.data.status&&l.b.success(e.data.response),setTimeout((function(){y(""),O(!1),S(""),C(!1),E(""),J(!1),Q(""),F(!1),X(""),I(!1),M(""),U(!1),Z(""),te(!1),ie(""),de("")}),1e3))})).catch((function(e){console.log("err",e)}))}(e)},disabled:oe},"Apply Job"," ")," "))))}))},"3/DG":function(e,t){function a(e,t){var a=[],r=[];return null==t&&(t=function(e,t){return a[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,a.indexOf(t)).join(".")+"]"}),function(i,n){if(a.length>0){var l=a.indexOf(this);~l?a.splice(l+1):a.push(this),~l?r.splice(l,1/0,i):r.push(i),~a.indexOf(n)&&(n=t.call(this,i,n))}else a.push(n);return null==e?n:e.call(this,i,n)}}(e.exports=function(e,t,r,i){return JSON.stringify(e,a(t,i),r)}).getSerialize=a},j6q2:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apply-job",function(){return a("0jJC")}])}},[["j6q2",0,1,2,3,5,6]]]);