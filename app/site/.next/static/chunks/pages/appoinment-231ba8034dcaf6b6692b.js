_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{"0pRi":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/appoinment",function(){return r("gNMv")}])},gNMv:function(e,t,r){"use strict";r.r(t);var a=r("q1tI"),n=r.n(a),i=r("FGyW"),l=(r("jDDT"),r("gWdR")),o=r("TsPW"),u=r("L4s6"),s=r("20a2"),m=r("y2g3"),d=r.n(m),c=n.a.createElement;t.default=function(){Object(s.useRouter)();var e=Object(a.useState)(""),t=e[0],r=e[1],m=Object(a.useState)(!1),p=m[0],f=m[1],v=Object(a.useState)(!1),g=v[0],b=v[1],N=Object(a.useState)(""),S=N[0],h=N[1],w=Object(a.useState)(!1),O=w[0],j=w[1],q=Object(a.useState)(""),_=q[0],M=q[1],P=Object(a.useState)(!1),A=P[0],D=P[1],C=Object(a.useState)(""),y=C[0],E=C[1],T=Object(a.useState)(!1),x=T[0],F=T[1],G=Object(a.useState)(""),k=G[0],R=G[1],Y=Object(a.useState)(!1),W=Y[0],J=Y[1],X=Object(a.useState)(""),I=X[0],L=X[1],V=Object(a.useState)(""),z=V[0],B=V[1],H=Object(a.useState)(!1),K=H[0],Q=H[1],U=Object(a.useState)(!1),Z=U[0],$=U[1],ee=Object(a.useState)(""),te=ee[0],re=ee[1],ae=Object(a.useState)(!1),ne=ae[0],ie=ae[1],le=Object(a.useState)(!1),oe=le[0],ue=le[1],se=Object(a.useState)(new Date),me=se[0],de=se[1],ce=function(e,t){String(t)===String("name")&&(e.target.value?f(!1):f(!0),r(e.target.value)),String(t)===String("email")&&(e.target.value?j(!1):j(!0),h(e.target.value)),String(t)===String("phone")&&(e.target.value?D(!1):D(!0),M(e.target.value)),String(t)===String("gender")&&(e.target.value?F(!1):F(!0),E(e.target.value)),String(t)===String("age")&&(e.target.value?J(!1):J(!0),R(e.target.value)),String(t)===String("date")&&(e.target.value?setdate_err(!1):setdate_err(!0),L(e.target.value)),String(t)===String("appoinment_date")&&(ue(!e),de(e)),String(t)===String("time")&&(e.target.value?Q(!1):Q(!0),B(e.target.value)),String(t)===String("department_id")&&(e.target.value?ie(!1):ie(!0),re(e.target.value)),String(t)===String("appoinment_date")&&(ue(!e),de(e))};return Object(a.useEffect)((function(){Object(o.a)("/site/department/list","post",{}).then((function(e){e&&e.data&&0===+e.data.status?e.data.errors&&e.data.errors.length>0&&Array.isArray(e.data.errors)?e.data.errors.map((function(e){return i.b.error(e.msg)})):$([]):e&&e.data&&1===+e.data.status&&$(e.data.response&&e.data.response.length>0?e.data.response:[])})).catch((function(e){console.log("err",e)}))}),[]),c(n.a.Fragment,null,c(i.a,{position:"top-right",autoClose:2500,closeOnClick:!0}),c(u.a,{title:"",subtitle:"Appoinment"}),c(l.a,{title:""},c("form",null,c("div",{className:"flex flex-col lg:flex-row lg:flex-wrap lg:w-1/2"},c("div",{className:"w-full "},c("div",{className:"form-element"},c("div",{className:"form-label"},"Name"),c("input",{type:"text",className:"form-input form-input-".concat(p?"invalid":"valid"),placeholder:"name",value:t,onChange:function(e){return ce(e,"name")}}),p?c("div",{className:"form-error"}," Name is required"):null)),c("div",{className:"w-full "},c("div",{className:"form-element"},c("div",{className:"form-label"},"Email"),c("input",{type:"email",className:"form-input form-input-".concat(O?"invalid":"valid"),placeholder:"email",value:S,onChange:function(e){return ce(e,"email")}}),O?c("div",{className:"form-error"}," Email is required"):null)),c("div",{className:"w-full "},c("div",{className:"form-element"},c("div",{className:"form-label"},"Phone"),c("input",{type:"number",className:"form-input form-input-".concat(A?"invalid":"valid"),placeholder:"Phone Number",value:_,onChange:function(e){return ce(e,"phone")}}),A?c("div",{className:"form-error"},"Phone is required"):null)),c("div",{className:"w-full "},c("div",{className:"form-element"},c("div",{className:"form-label"},"Gender"),c("select",{name:"gender",value:y,onChange:function(e){return ce(e,"gender")},className:"form-input form-input-".concat(x?"invalid":"valid")},c("option",{value:""},"Gender"),c("option",{value:"1"},"Male"),c("option",{value:"2"},"Female")),x?c("div",{className:"form-error"},"Gender is required"):null)),c("div",{className:"w-full"},c("div",{className:"form-element"},c("div",{className:"form-label"},"Age"),c("input",{type:"text",className:"form-input form-input-".concat(W?"invalid":"valid"),placeholder:"Age",value:k,onChange:function(e){return ce(e,"age")}}),W?c("div",{className:"form-error"},"Age is required"):null)),c("div",{className:"w-full "},c("div",{className:"form-element"},c("div",{className:"form-label"},"Choose Department"),c("select",{name:"department_id",value:te,onChange:function(e){return ce(e,"department_id")},className:"form-input form-input-".concat(ne?"invalid":"valid")},c("option",{value:""},"Choose Department"),Z&&Z.length>0?Z.map((function(e,t){return c(n.a.Fragment,null,c("option",{key:t,value:e._id},e.name))})):null),ne?c("div",{className:"form-error"},"Department is required"):null)),c("div",{className:"w-full"},c("div",{className:"form-element"},c("div",{className:"form-label"},"Appoinment Date ",c("span",{className:"form-error"},"*")),c(d.a,{className:"form-input form-input-".concat(oe?"invalid":"valid"),value:me,defaultValue:new Date,dateFormat:"DD-MM-YYYY",timeFormat:!1,input:!0,inputProps:{className:"form-input",placeholder:"Select date"},viewMode:"days",min:(new Date).getTime(),onChange:function(e){return ce(e,"appoinment_date")}}),oe?c("div",{className:"form-error"},"Posting Date is required"):null)),c("div",{className:"w-full "},c("div",{className:"form-element"},c("div",{className:"form-label"},"Time"),c("select",{name:"time",value:z,onChange:function(e){return ce(e,"time")},className:"form-input form-input-".concat(K?"invalid":"valid")},c("option",{value:""},"Time"),c("option",{value:"8:00 AM"},"8 : 00 AM"),c("option",{value:"10:00 AM"},"10 : 00 AM"),c("option",{value:"12:00 PM"},"12 : 00 PM"),c("option",{value:"2:00 PM"},"2 : 00 PM"),c("option",{value:"4:00 PM"},"4 : 00 PM"),c("option",{value:"6:00 PM"},"6 : 00 PM"),c("option",{value:"8:00 PM"},"8 : 00 PM"),c("option",{value:"10:00 PM"},"10 : 00 PM")),K?c("div",{className:"form-error"},"Time is required"):null))),c("button",{className:"btn btn-default bg-blue-500 hover:bg-blue-600 text-white btn-rounded",onClick:function(e){return function(e){if(e.preventDefault(),!t)return f(!0),i.b.error("Name is required");if(!S)return j(!0),i.b.error("Email is required");if(!_)return D(!0),i.b.error("Phone is required");if(!y)return F(!0),i.b.error("Gender is required");if(!k)return J(!0),i.b.error("Age is required");if(!z)return Q(!0),i.b.error("Time is required");if(p)return i.b.error("Name is required");if(O)return i.b.error("Email is required");if(A)return i.b.error("Phone is required");if(x)return i.b.error("Gender is required");if(W)return i.b.error("Age is required");if(K)return i.b.error("Time is required");if(ne)return i.b.error("department_id is required");if(!me)return ue(!0),i.b.error("Appoinment Date is required");if(oe)return i.b.error("Appoinment Date is required");b(!0);var a={department_id:te,name:t,email:S,phone:_,gender:y,age:k,date:I,time:z,appoinment_date:me};Object(o.a)("/site/submit/appointments/details","post",a).then((function(e){b(!1),e&&e.data&&0===+e.data.status?e.data.errors&&e.data.errors.length>0&&Array.isArray(e.data.errors)?e.data.errors.map((function(e){return i.b.error(e.msg)})):i.b.error(e.data.response):e&&e.data&&1===+e.data.status&&(i.b.success(e.data.response),setTimeout((function(){r(""),h(""),f(!1),j(!1),M(""),D(!1),E(""),F(!1),R(""),J(!1),ue(!1),B(""),Q(!1),re(""),ie(!1)}),1e3))})).catch((function(e){console.log("err",e),setOpen(!1)}))}(e)},disabled:g},"Submit"," ")," ")))}}},[["0pRi",0,1,8,2,3,5,7]]]);