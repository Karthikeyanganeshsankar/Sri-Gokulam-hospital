{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Widget from '../components/widget';\nimport fetchData from \"../api/api\";\nimport SectionTitle from '../components/section-title';\nimport { useRouter } from 'next/router';\n\nvar ContactUs = function ContactUs() {\n  var router = useRouter();\n\n  var _useState = useState(''),\n      name = _useState[0],\n      setname = _useState[1],\n      _useState2 = useState(false),\n      name_err = _useState2[0],\n      setname_err = _useState2[1],\n      _useState3 = useState(false),\n      clicked = _useState3[0],\n      setclicked = _useState3[1],\n      _useState4 = useState(''),\n      email = _useState4[0],\n      setemail = _useState4[1],\n      _useState5 = useState(false),\n      email_err = _useState5[0],\n      setemail_err = _useState5[1],\n      _useState6 = useState(''),\n      phone = _useState6[0],\n      setphone = _useState6[1],\n      _useState7 = useState(false),\n      phone_err = _useState7[0],\n      setphone_err = _useState7[1],\n      _useState8 = useState(''),\n      subject = _useState8[0],\n      setsubject = _useState8[1],\n      _useState9 = useState(false),\n      subject_err = _useState9[0],\n      setsubject_err = _useState9[1],\n      _useState10 = useState(''),\n      reason = _useState10[0],\n      setreason = _useState10[1],\n      _useState11 = useState(false),\n      reason_err = _useState11[0],\n      setreason_err = _useState11[1];\n\n  var _onChange = function onChange(e, name) {\n    if (String(name) === String('name')) {\n      if (!e.target.value) {\n        setname_err(true);\n      } else {\n        setname_err(false);\n      }\n\n      setname(e.target.value);\n    }\n\n    if (String(name) === String('email')) {\n      if (!e.target.value) {\n        setemail_err(true);\n      } else {\n        setemail_err(false);\n      }\n\n      setemail(e.target.value);\n    }\n\n    if (String(name) === String('phone')) {\n      if (!e.target.value) {\n        setphone_err(true);\n      } else {\n        setphone_err(false);\n      }\n\n      setphone(e.target.value);\n    }\n\n    if (String(name) === String('subject')) {\n      if (!e.target.value) {\n        setsubject_err(true);\n      } else {\n        setsubject_err(false);\n      }\n\n      setsubject(e.target.value);\n    }\n\n    if (String(name) === String('reason')) {\n      if (!e.target.value) {\n        setreason_err(true);\n      } else {\n        setreason_err(false);\n      }\n\n      setreason(e.target.value);\n    }\n  };\n\n  var submit = function submit(e) {\n    e.preventDefault();\n\n    if (!name) {\n      setname_err(true);\n      return toast.error('Name is required');\n    }\n\n    if (!email) {\n      setemail_err(true);\n      return toast.error('Email is required');\n    }\n\n    if (!phone) {\n      setphone_err(true);\n      return toast.error('Phone is required');\n    }\n\n    if (!subject) {\n      setsubject_err(true);\n      return toast.error('Subject is required');\n    }\n\n    if (!reason) {\n      setreason_err(true);\n      return toast.error('Reason is required');\n    }\n\n    if (name_err) {\n      return toast.error('Name is required');\n    }\n\n    if (email_err) {\n      return toast.error('Email is required');\n    }\n\n    if (phone_err) {\n      return toast.error('Phone is required');\n    }\n\n    if (subject_err) {\n      return toast.error('Subject is required');\n    }\n\n    if (reason_err) {\n      return toast.error('Reason is required');\n    }\n\n    setclicked(true);\n    var data = {\n      name: name,\n      email: email,\n      phone: phone,\n      subject: subject,\n      reason: reason\n    };\n    var response = fetchData('/site/submit/contactus/details', 'post', data);\n    response.then(function (res) {\n      setclicked(false);\n\n      if (res && res.data && +res.data.status === 0) {\n        if (res.data.errors && res.data.errors.length > 0 && Array.isArray(res.data.errors)) {\n          res.data.errors.map(function (item) {\n            return toast.error(item.msg);\n          });\n        } else {\n          toast.error(res.data.response);\n        }\n      } else {\n        if (res && res.data && +res.data.status === 1) {\n          toast.success(res.data.response);\n          setTimeout(function () {\n            setname('');\n            setemail('');\n            setname_err(false);\n            setemail_err(false);\n            setphone('');\n            setphone_err(false);\n            setsubject('');\n            setsubject_err(false);\n            setreason('');\n            setreason_err(false);\n          }, 1000);\n        }\n      }\n    })[\"catch\"](function (err) {\n      console.log(\"err\", err);\n      return router.push('/admin-login');\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(ToastContainer, {\n    position: \"top-right\",\n    autoClose: 2500,\n    closeOnClick: true\n  }), __jsx(SectionTitle, {\n    title: \"\",\n    subtitle: \"Contact Us\"\n  }), __jsx(Widget, {\n    title: \"\"\n  }, __jsx(\"form\", null, __jsx(\"div\", {\n    className: \"flex flex-col lg:flex-row lg:flex-wrap w-full lg:w-1/2\"\n  }, __jsx(\"div\", {\n    className: \"w-full\"\n  }, __jsx(\"div\", {\n    className: \"form-element\"\n  }, __jsx(\"div\", {\n    className: \"form-label\"\n  }, \"Name \", __jsx(\"span\", {\n    className: \"form-error\"\n  }, \"*\")), __jsx(\"input\", {\n    type: \"text\",\n    className: \"form-input form-input-\".concat(name_err ? 'invalid' : 'valid'),\n    placeholder: \"name\",\n    value: name,\n    onChange: function onChange(e) {\n      return _onChange(e, 'name');\n    }\n  }), name_err ? __jsx(\"div\", {\n    className: \"form-error\"\n  }, \" Name is required\") : null)), __jsx(\"div\", {\n    className: \"w-full\"\n  }, __jsx(\"div\", {\n    className: \"form-element\"\n  }, __jsx(\"div\", {\n    className: \"form-label\"\n  }, \"Email \", __jsx(\"span\", {\n    className: \"form-error\"\n  }, \"*\")), __jsx(\"input\", {\n    type: \"email\",\n    className: \"form-input form-input-\".concat(email_err ? 'invalid' : 'valid'),\n    placeholder: \"email\",\n    value: email,\n    onChange: function onChange(e) {\n      return _onChange(e, 'email');\n    }\n  }), email_err ? __jsx(\"div\", {\n    className: \"form-error\"\n  }, \" Email is required\") : null)), __jsx(\"div\", {\n    className: \"w-full\"\n  }, __jsx(\"div\", {\n    className: \"form-element\"\n  }, __jsx(\"div\", {\n    className: \"form-label\"\n  }, \"Phone \", __jsx(\"span\", {\n    className: \"form-error\"\n  }, \"*\")), __jsx(\"input\", {\n    type: \"number\",\n    className: \"form-input form-input-\".concat(phone_err ? 'invalid' : 'valid'),\n    placeholder: \"phone\",\n    value: phone,\n    onChange: function onChange(e) {\n      return _onChange(e, 'phone');\n    }\n  }), phone_err ? __jsx(\"div\", {\n    className: \"form-error\"\n  }, \"phone is required\") : null)), __jsx(\"div\", {\n    className: \"w-full\"\n  }, __jsx(\"div\", {\n    className: \"form-element\"\n  }, __jsx(\"div\", {\n    className: \"form-label\"\n  }, \"Subject \", __jsx(\"span\", {\n    className: \"form-error\"\n  }, \"*\")), __jsx(\"input\", {\n    type: \"text\",\n    className: \"form-input form-input-\".concat(subject_err ? 'invalid' : 'valid'),\n    placeholder: \"subject\",\n    value: subject,\n    onChange: function onChange(e) {\n      return _onChange(e, 'subject');\n    }\n  }), subject_err ? __jsx(\"div\", {\n    className: \"form-error\"\n  }, \"Subject is required\") : null)), __jsx(\"div\", {\n    className: \"w-full\"\n  }, __jsx(\"div\", {\n    className: \"form-element\"\n  }, __jsx(\"div\", {\n    className: \"form-label\"\n  }, \"Reason* \", __jsx(\"span\", {\n    className: \"form-error\"\n  }, \"*\")), __jsx(\"input\", {\n    type: \"textarea\",\n    className: \"form-input form-input-\".concat(reason_err ? 'invalid' : 'valid'),\n    placeholder: \"Reason of Appoinment\",\n    value: reason,\n    onChange: function onChange(e) {\n      return _onChange(e, 'reason');\n    }\n  }), reason_err ? __jsx(\"div\", {\n    className: \"form-error\"\n  }, \"Reason is required\") : null))), __jsx(\"button\", {\n    className: \"btn btn-default bg-blue-500 hover:bg-blue-600 text-white btn-rounded\",\n    onClick: function onClick(e) {\n      return submit(e);\n    },\n    disabled: clicked\n  }, \"Submit\", \" \"), ' ')));\n};\n\nexport default ContactUs;","map":null,"metadata":{},"sourceType":"module"}